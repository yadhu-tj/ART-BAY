{% extends "base.html" %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/gallery.css') }}">
  <script src="{{ url_for('static', filename='js/gallery.js') }}" defer></script>
{% endblock %}

{% block content %}
<div class="page-container">
    <h1 class="gallery-title">Art Gallery</h1>
    
    <!-- Filter Dropdown -->
    <div class="filter-container">
        <button class="filter-btn">Filter Options</button>
        <div class="filter-dropdown">
            <div class="filter-group">
                <label for="search-filter">Search</label>
                <input type="text" id="search-filter" placeholder="Search artworks..." class="filter">
            </div>
            
            <div class="filter-group">
                <label for="sort-filter">Sort By</label>
                <select id="sort-filter" class="filter">
                    <option value="newest">Newest to Oldest</option>
                    <option value="oldest">Oldest to Newest</option>
                    <option value="price-low">Price: Low to High</option>
                    <option value="price-high">Price: High to Low</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="price-filter">Price Range</label>
                <select id="price-filter" class="filter">
                    <option value="">All Prices</option>
                    <option value="0-500">$0 - $500</option>
                    <option value="501-1000">$501 - $1000</option>
                    <option value="1001+">$1001+</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="media-filter">Media Type</label>
                <select id="media-filter" class="filter">
                    <option value="">All Media</option>
                    <option value="Painting">Painting</option>
                    <option value="Digital">Digital</option>
                    <option value="Sculpture">Sculpture</option>
                    <option value="Photography">Photography</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Masonry Grid -->
    <div class="gallery-grid" id="gallery-grid">
        {% for artwork in artworks %}
            <div class="gallery-item" 
                 data-date="{{ artwork.created_at }}"
                 data-price="{{ artwork.price }}"
                 data-media="{{ artwork.category }}">
                <img src="/static/uploads/{{ artwork.image_path.split('/')[-1] }}" 
                     alt="{{ artwork.title }}"
                     data-art-id="{{ artwork.art_id }}">
                <div class="item-info">
                    <h3>{{ artwork.title }}</h3>
                    <p class="description">{{ artwork.description }}</p>
                    <p class="price">${{ artwork.price }}</p>
                    <p class="artist">Artist: {{ artwork.artist_name if artwork.artist_name else artwork.email }}</p>
                    <div class="btn-container">
                        <button class="view-btn" data-art-id="{{ artwork.art_id }}">View Details</button>
                        <button class="add-cart-btn" data-art-id="{{ artwork.art_id }}">Add to Cart</button>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}